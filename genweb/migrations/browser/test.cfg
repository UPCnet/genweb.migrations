[transmogrifier]
pipeline =
    catalogsource
    printer
    pampath
    convertsectionsintofolders
    setuuid
    folders
    constructor
    schemaupdater
    datafields
    workflowupdater
    owner
    local_roles
    reindexobject
    qlogger

[catalogsource]
blueprint = genweb.migrations.catalogsource
remote-url = http://127.0.0.1:9090
remote-username = admin
remote-password = admin
catalog-path = /ca1/ca1/portal_catalog
catalog-query =
    {'path': {'query': '/ca1/ca1/noticies'}, 'id': 'beques-de-col.laboracio'}

[pampath]
blueprint = collective.transmogrifier.sections.inserter
key = string:_path
value = python:item['language'] + item['_path']

[convertsectionsintofolders]
blueprint = collective.transmogrifier.sections.inserter
key = string:_type
value = string:Folder
condition = python:item['_type'] == 'Seccio'

[setuuid]
blueprint = collective.transmogrifier.sections.manipulator
keys = _uid
destination = string:plone.uuid

[folders]
blueprint = collective.transmogrifier.sections.folders

[constructor]
blueprint = collective.transmogrifier.sections.constructor

[schemaupdater]
blueprint = transmogrify.dexterity.schemaupdater

[datafields]
blueprint = genweb.migrations.sections.datafields

[workflowupdater]
blueprint = genweb.migrations.sections.workflowupdater

[reindexobject]
blueprint = plone.app.transmogrifier.reindexobject

[owner]
blueprint = collective.jsonmigrator.owner

[local_roles]
blueprint = genweb.migrations.localroles

[printer]
blueprint = genweb.migrations.sections.pprinter

[qlogger]
blueprint = quintagroup.transmogrifier.logger
keys =
    _type
    _path
