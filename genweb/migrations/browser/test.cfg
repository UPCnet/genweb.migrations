[transmogrifier]
pipeline =
    catalogsource
    pampath
    convertsectionsintofolders
    folders
    constructor
    schemaupdater
    datafields
    printer
    qlogger

[catalogsource]
blueprint = genweb.migrations.catalogsource
remote-url = http://127.0.0.1:9090
remote-username = victor.fernandez
remote-token = uj5v4XrWMxGP25CN3pAE39mYCL7cwBMV
catalog-path = /ca1/ca1/portal_catalog
catalog-query =
    {'path': {'query': '/ca1/ca1/directori'}}

[pampath]
blueprint = collective.transmogrifier.sections.inserter
key = string:_path
value = python:item['language'] + item['_path']

[convertsectionsintofolders]
blueprint = collective.transmogrifier.sections.inserter
key = string:_type
value = string:Folder
condition = python:item['_type'] == 'Seccio'

[folders]
blueprint = collective.transmogrifier.sections.folders

[constructor]
blueprint = collective.transmogrifier.sections.constructor

[schemaupdater]
blueprint = transmogrify.dexterity.schemaupdater

[datafields]
blueprint = genweb.migrations.sections.datafields

[printer]
blueprint = genweb.migrations.sections.pprinter

[qlogger]
blueprint = quintagroup.transmogrifier.logger
keys =
    _type
    _path
